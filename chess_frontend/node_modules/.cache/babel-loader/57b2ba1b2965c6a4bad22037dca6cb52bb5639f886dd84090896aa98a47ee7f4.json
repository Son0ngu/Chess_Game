{"ast":null,"code":"var _jsxFileName = \"D:\\\\Code\\\\Chess_Game\\\\chess_frontend\\\\src\\\\App.jsx\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport { Routes, Route, Navigate } from 'react-router-dom';\nimport { useAuth } from './context/AuthContext';\nimport Home from './pages/Home';\nimport Lobby from './pages/Lobby';\nimport Play from './pages/Play';\nimport SignIn from './pages/SignIn';\nimport SignUp from './pages/SignUp';\nimport PWRec from './pages/PWRec';\nimport ResetPassword from './pages/ResetPW';\nimport Spinner from './components/Spinner';\nimport { connectSocket, disconnectSocket, socket, SOCKET_EVENTS } from './services/socket';\nimport Toast from './components/Toast'; // You'll need to create this component\nimport './styles/App.css';\n\n// Protected route component\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ProtectedRoute = ({\n  children\n}) => {\n  _s();\n  const {\n    isAuthenticated,\n    isLoading\n  } = useAuth();\n  if (isLoading) {\n    return /*#__PURE__*/_jsxDEV(Spinner, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 21,\n      columnNumber: 12\n    }, this);\n  }\n  if (!isAuthenticated) {\n    return /*#__PURE__*/_jsxDEV(Navigate, {\n      to: \"/signin\",\n      replace: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 25,\n      columnNumber: 12\n    }, this);\n  }\n  return children;\n};\n_s(ProtectedRoute, \"yb/FJYAIXt7wZoU4a4YvGQ4Nlsc=\", false, function () {\n  return [useAuth];\n});\n_c = ProtectedRoute;\nconst App = () => {\n  _s2();\n  const {\n    isAuthenticated\n  } = useAuth();\n  const [socketConnected, setSocketConnected] = useState(false);\n  const [socketError, setSocketError] = useState(null);\n  const [showDebug, setShowDebug] = useState(process.env.NODE_ENV === 'development');\n  const [debugEvents, setDebugEvents] = useState([]);\n\n  // Connect to socket.io when authenticated\n  useEffect(() => {\n    if (isAuthenticated) {\n      const connected = connectSocket();\n      console.log('Socket connection attempt result:', connected);\n\n      // Add socket state listeners\n      const handleConnect = () => {\n        console.log('Socket connected successfully!');\n        setSocketConnected(true);\n        setSocketError(null);\n      };\n      const handleError = error => {\n        console.error('Socket connection error:', error);\n        setSocketConnected(false);\n        setSocketError(`Connection error: ${error.message || 'Unknown error'}`);\n      };\n      const handleDisconnect = reason => {\n        console.log('Socket disconnected:', reason);\n        setSocketConnected(false);\n        if (reason === 'io server disconnect') {\n          // The server forcefully disconnected the socket\n          setSocketError('Server disconnected the socket. You may need to log in again.');\n        }\n      };\n\n      // Debug - capture all events for development\n      if (process.env.NODE_ENV === 'development') {\n        const originalOn = socket.on;\n        socket.on = function (eventName, callback) {\n          const wrappedCallback = data => {\n            const eventData = {\n              event: eventName,\n              data,\n              time: new Date().toLocaleTimeString()\n            };\n            console.log(`ðŸ‘‚ Socket event '${eventName}' received:`, data);\n\n            // Keep last 10 events\n            setDebugEvents(prev => [eventData, ...prev].slice(0, 10));\n\n            // Special handling for game:matched to diagnose undefined gameId\n            if (eventName === 'game:matched') {\n              console.log(`ðŸŽ® MATCH FOUND - gameId: ${(data === null || data === void 0 ? void 0 : data.gameId) || 'UNDEFINED'}`);\n              if (!data || !data.gameId) {\n                console.error('âŒ ERROR: Missing gameId in game:matched event!', data);\n              }\n            }\n            return callback(data);\n          };\n          return originalOn.call(socket, eventName, wrappedCallback);\n        };\n      }\n      socket.on(SOCKET_EVENTS.CONNECT, handleConnect);\n      socket.on(SOCKET_EVENTS.CONNECT_ERROR, handleError);\n      socket.on(SOCKET_EVENTS.DISCONNECT, handleDisconnect);\n      return () => {\n        socket.off(SOCKET_EVENTS.CONNECT, handleConnect);\n        socket.off(SOCKET_EVENTS.CONNECT_ERROR, handleError);\n        socket.off(SOCKET_EVENTS.DISCONNECT, handleDisconnect);\n        disconnectSocket();\n      };\n    } else {\n      disconnectSocket();\n    }\n  }, [isAuthenticated]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"app\",\n    children: [showDebug && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"socket-debug-panel\",\n      style: {\n        position: 'fixed',\n        bottom: 0,\n        right: 0,\n        backgroundColor: 'rgba(0,0,0,0.8)',\n        color: 'white',\n        padding: '10px',\n        zIndex: 9999,\n        fontSize: '12px',\n        maxWidth: '400px'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"Socket Status:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 128,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          style: {\n            color: socketConnected ? '#4CAF50' : '#F44336'\n          },\n          children: socketConnected ? 'Connected' : 'Disconnected'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 129,\n          columnNumber: 13\n        }, this), socketError && /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            color: '#F44336'\n          },\n          children: socketError\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 133,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"Recent Events:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 137,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setShowDebug(false),\n          style: {\n            float: 'right',\n            marginLeft: '10px'\n          },\n          children: \"Hide\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 138,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n          style: {\n            maxHeight: '200px',\n            overflowY: 'auto',\n            margin: '5px 0',\n            padding: '0 0 0 20px'\n          },\n          children: debugEvents.map((evt, i) => {\n            var _evt$data;\n            return /*#__PURE__*/_jsxDEV(\"li\", {\n              style: {\n                marginBottom: '5px',\n                fontSize: '11px',\n                wordBreak: 'break-all'\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: [\"[\", evt.time, \"] \", evt.event]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 156,\n                columnNumber: 19\n              }, this), \":\", evt.event === 'game:matched' ? ` gameId: ${JSON.stringify((_evt$data = evt.data) === null || _evt$data === void 0 ? void 0 : _evt$data.gameId)}` : ' ' + JSON.stringify(evt.data).substring(0, 100) + (JSON.stringify(evt.data).length > 100 ? '...' : '')]\n            }, i, true, {\n              fileName: _jsxFileName,\n              lineNumber: 151,\n              columnNumber: 17\n            }, this);\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 144,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 9\n    }, this), isAuthenticated && !socketConnected && /*#__PURE__*/_jsxDEV(Toast, {\n      message: \"Connection to game server lost. Reconnecting...\",\n      type: \"warning\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 169,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(Routes, {\n      children: [/*#__PURE__*/_jsxDEV(Route, {\n        path: \"/\",\n        element: /*#__PURE__*/_jsxDEV(Home, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 177,\n          columnNumber: 34\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 177,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/signin\",\n        element: /*#__PURE__*/_jsxDEV(SignIn, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 178,\n          columnNumber: 40\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 178,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/signup\",\n        element: /*#__PURE__*/_jsxDEV(SignUp, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 179,\n          columnNumber: 40\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 179,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/pwrecovery\",\n        element: /*#__PURE__*/_jsxDEV(PWRec, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 180,\n          columnNumber: 44\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 180,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/lobby\",\n        element: /*#__PURE__*/_jsxDEV(ProtectedRoute, {\n          children: /*#__PURE__*/_jsxDEV(Lobby, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 187,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 186,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 183,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/play\",\n        element: /*#__PURE__*/_jsxDEV(ProtectedRoute, {\n          children: /*#__PURE__*/_jsxDEV(Play, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 196,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 195,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 192,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/play/:gameId\",\n        element: /*#__PURE__*/_jsxDEV(ProtectedRoute, {\n          children: /*#__PURE__*/_jsxDEV(Play, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 205,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 204,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 201,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/reset-password/:token\",\n        element: /*#__PURE__*/_jsxDEV(ResetPassword, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 213,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 210,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"*\",\n        element: /*#__PURE__*/_jsxDEV(Navigate, {\n          to: \"/\",\n          replace: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 218,\n          columnNumber: 34\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 218,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 175,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 113,\n    columnNumber: 5\n  }, this);\n};\n_s2(App, \"4iygKGOOK6MvueEg38GiQ26EnaQ=\", false, function () {\n  return [useAuth];\n});\n_c2 = App;\nexport default App;\nvar _c, _c2;\n$RefreshReg$(_c, \"ProtectedRoute\");\n$RefreshReg$(_c2, \"App\");","map":{"version":3,"names":["React","useEffect","useState","Routes","Route","Navigate","useAuth","Home","Lobby","Play","SignIn","SignUp","PWRec","ResetPassword","Spinner","connectSocket","disconnectSocket","socket","SOCKET_EVENTS","Toast","jsxDEV","_jsxDEV","ProtectedRoute","children","_s","isAuthenticated","isLoading","fileName","_jsxFileName","lineNumber","columnNumber","to","replace","_c","App","_s2","socketConnected","setSocketConnected","socketError","setSocketError","showDebug","setShowDebug","process","env","NODE_ENV","debugEvents","setDebugEvents","connected","console","log","handleConnect","handleError","error","message","handleDisconnect","reason","originalOn","on","eventName","callback","wrappedCallback","data","eventData","event","time","Date","toLocaleTimeString","prev","slice","gameId","call","CONNECT","CONNECT_ERROR","DISCONNECT","off","className","style","position","bottom","right","backgroundColor","color","padding","zIndex","fontSize","maxWidth","onClick","float","marginLeft","maxHeight","overflowY","margin","map","evt","i","_evt$data","marginBottom","wordBreak","JSON","stringify","substring","length","type","path","element","_c2","$RefreshReg$"],"sources":["D:/Code/Chess_Game/chess_frontend/src/App.jsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport { Routes, Route, Navigate } from 'react-router-dom';\r\nimport { useAuth } from './context/AuthContext';\r\nimport Home from './pages/Home';\r\nimport Lobby from './pages/Lobby';\r\nimport Play from './pages/Play';\r\nimport SignIn from './pages/SignIn';\r\nimport SignUp from './pages/SignUp';\r\nimport PWRec from './pages/PWRec';\r\nimport ResetPassword from './pages/ResetPW';\r\nimport Spinner from './components/Spinner';\r\nimport { connectSocket, disconnectSocket, socket, SOCKET_EVENTS } from './services/socket';\r\nimport Toast from './components/Toast'; // You'll need to create this component\r\nimport './styles/App.css';\r\n\r\n// Protected route component\r\nconst ProtectedRoute = ({ children }) => {\r\n  const { isAuthenticated, isLoading } = useAuth();\r\n  \r\n  if (isLoading) {\r\n    return <Spinner />;\r\n  }\r\n  \r\n  if (!isAuthenticated) {\r\n    return <Navigate to=\"/signin\" replace />;\r\n  }\r\n  \r\n  return children;\r\n};\r\n\r\nconst App = () => {\r\n  const { isAuthenticated } = useAuth();\r\n  const [socketConnected, setSocketConnected] = useState(false);\r\n  const [socketError, setSocketError] = useState(null);\r\n  const [showDebug, setShowDebug] = useState(process.env.NODE_ENV === 'development');\r\n  const [debugEvents, setDebugEvents] = useState([]);\r\n  \r\n  // Connect to socket.io when authenticated\r\n  useEffect(() => {\r\n    if (isAuthenticated) {\r\n      const connected = connectSocket();\r\n      console.log('Socket connection attempt result:', connected);\r\n      \r\n      // Add socket state listeners\r\n      const handleConnect = () => {\r\n        console.log('Socket connected successfully!');\r\n        setSocketConnected(true);\r\n        setSocketError(null);\r\n      };\r\n      \r\n      const handleError = (error) => {\r\n        console.error('Socket connection error:', error);\r\n        setSocketConnected(false);\r\n        setSocketError(`Connection error: ${error.message || 'Unknown error'}`);\r\n      };\r\n      \r\n      const handleDisconnect = (reason) => {\r\n        console.log('Socket disconnected:', reason);\r\n        setSocketConnected(false);\r\n        if (reason === 'io server disconnect') {\r\n          // The server forcefully disconnected the socket\r\n          setSocketError('Server disconnected the socket. You may need to log in again.');\r\n        }\r\n      };\r\n      \r\n      // Debug - capture all events for development\r\n      if (process.env.NODE_ENV === 'development') {\r\n        const originalOn = socket.on;\r\n        socket.on = function(eventName, callback) {\r\n          const wrappedCallback = (data) => {\r\n            const eventData = {\r\n              event: eventName,\r\n              data,\r\n              time: new Date().toLocaleTimeString()\r\n            };\r\n            \r\n            console.log(`ðŸ‘‚ Socket event '${eventName}' received:`, data);\r\n            \r\n            // Keep last 10 events\r\n            setDebugEvents(prev => [eventData, ...prev].slice(0, 10));\r\n            \r\n            // Special handling for game:matched to diagnose undefined gameId\r\n            if (eventName === 'game:matched') {\r\n              console.log(`ðŸŽ® MATCH FOUND - gameId: ${data?.gameId || 'UNDEFINED'}`);\r\n              if (!data || !data.gameId) {\r\n                console.error('âŒ ERROR: Missing gameId in game:matched event!', data);\r\n              }\r\n            }\r\n            \r\n            return callback(data);\r\n          };\r\n          \r\n          return originalOn.call(socket, eventName, wrappedCallback);\r\n        };\r\n      }\r\n      \r\n      socket.on(SOCKET_EVENTS.CONNECT, handleConnect);\r\n      socket.on(SOCKET_EVENTS.CONNECT_ERROR, handleError);\r\n      socket.on(SOCKET_EVENTS.DISCONNECT, handleDisconnect);\r\n      \r\n      return () => {\r\n        socket.off(SOCKET_EVENTS.CONNECT, handleConnect);\r\n        socket.off(SOCKET_EVENTS.CONNECT_ERROR, handleError);\r\n        socket.off(SOCKET_EVENTS.DISCONNECT, handleDisconnect);\r\n        disconnectSocket();\r\n      };\r\n    } else {\r\n      disconnectSocket();\r\n    }\r\n  }, [isAuthenticated]);\r\n  \r\n  return (\r\n    <div className=\"app\">\r\n      {/* Socket connection status for debugging */}\r\n      {showDebug && (\r\n        <div className=\"socket-debug-panel\" style={{\r\n          position: 'fixed',\r\n          bottom: 0,\r\n          right: 0,\r\n          backgroundColor: 'rgba(0,0,0,0.8)',\r\n          color: 'white',\r\n          padding: '10px',\r\n          zIndex: 9999,\r\n          fontSize: '12px',\r\n          maxWidth: '400px'\r\n        }}>\r\n          <div>\r\n            <strong>Socket Status:</strong> \r\n            <span style={{ color: socketConnected ? '#4CAF50' : '#F44336' }}>\r\n              {socketConnected ? 'Connected' : 'Disconnected'}\r\n            </span>\r\n            {socketError && (\r\n              <div style={{ color: '#F44336' }}>{socketError}</div>\r\n            )}\r\n          </div>\r\n          <div>\r\n            <strong>Recent Events:</strong>\r\n            <button \r\n              onClick={() => setShowDebug(false)} \r\n              style={{float: 'right', marginLeft: '10px'}}\r\n            >\r\n              Hide\r\n            </button>\r\n            <ul style={{\r\n              maxHeight: '200px',\r\n              overflowY: 'auto',\r\n              margin: '5px 0',\r\n              padding: '0 0 0 20px'\r\n            }}>\r\n              {debugEvents.map((evt, i) => (\r\n                <li key={i} style={{\r\n                  marginBottom: '5px',\r\n                  fontSize: '11px',\r\n                  wordBreak: 'break-all'\r\n                }}>\r\n                  <strong>[{evt.time}] {evt.event}</strong>: \r\n                  {evt.event === 'game:matched' \r\n                    ? ` gameId: ${JSON.stringify(evt.data?.gameId)}` \r\n                    : ' ' + JSON.stringify(evt.data).substring(0, 100) + (JSON.stringify(evt.data).length > 100 ? '...' : '')}\r\n                </li>\r\n              ))}\r\n            </ul>\r\n          </div>\r\n        </div>\r\n      )}\r\n      \r\n      {/* Show a toast message when not connected but authenticated */}\r\n      {isAuthenticated && !socketConnected && (\r\n        <Toast \r\n          message=\"Connection to game server lost. Reconnecting...\" \r\n          type=\"warning\"\r\n        />\r\n      )}\r\n      \r\n      <Routes>\r\n        {/* Public routes */}\r\n        <Route path=\"/\" element={<Home />} />\r\n        <Route path=\"/signin\" element={<SignIn />} />\r\n        <Route path=\"/signup\" element={<SignUp />} />\r\n        <Route path=\"/pwrecovery\" element={<PWRec />} />\r\n        \r\n        {/* Protected routes */}\r\n        <Route \r\n          path=\"/lobby\" \r\n          element={\r\n            <ProtectedRoute>\r\n              <Lobby />\r\n            </ProtectedRoute>\r\n          } \r\n        />\r\n        \r\n        <Route \r\n          path=\"/play\" \r\n          element={\r\n            <ProtectedRoute>\r\n              <Play />\r\n            </ProtectedRoute>\r\n          } \r\n        />\r\n        \r\n        <Route \r\n          path=\"/play/:gameId\" \r\n          element={\r\n            <ProtectedRoute>\r\n              <Play />\r\n            </ProtectedRoute>\r\n          } \r\n        />\r\n\r\n        <Route \r\n          path=\"/reset-password/:token\" \r\n          element={\r\n            <ResetPassword />\r\n          }\r\n        />\r\n\r\n        {/* Catch-all route */}\r\n        <Route path=\"*\" element={<Navigate to=\"/\" replace />} />\r\n      </Routes>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default App;"],"mappings":";;;AAAA,OAAOA,KAAK,IAAIC,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAClD,SAASC,MAAM,EAAEC,KAAK,EAAEC,QAAQ,QAAQ,kBAAkB;AAC1D,SAASC,OAAO,QAAQ,uBAAuB;AAC/C,OAAOC,IAAI,MAAM,cAAc;AAC/B,OAAOC,KAAK,MAAM,eAAe;AACjC,OAAOC,IAAI,MAAM,cAAc;AAC/B,OAAOC,MAAM,MAAM,gBAAgB;AACnC,OAAOC,MAAM,MAAM,gBAAgB;AACnC,OAAOC,KAAK,MAAM,eAAe;AACjC,OAAOC,aAAa,MAAM,iBAAiB;AAC3C,OAAOC,OAAO,MAAM,sBAAsB;AAC1C,SAASC,aAAa,EAAEC,gBAAgB,EAAEC,MAAM,EAAEC,aAAa,QAAQ,mBAAmB;AAC1F,OAAOC,KAAK,MAAM,oBAAoB,CAAC,CAAC;AACxC,OAAO,kBAAkB;;AAEzB;AAAA,SAAAC,MAAA,IAAAC,OAAA;AACA,MAAMC,cAAc,GAAGA,CAAC;EAAEC;AAAS,CAAC,KAAK;EAAAC,EAAA;EACvC,MAAM;IAAEC,eAAe;IAAEC;EAAU,CAAC,GAAGpB,OAAO,CAAC,CAAC;EAEhD,IAAIoB,SAAS,EAAE;IACb,oBAAOL,OAAA,CAACP,OAAO;MAAAa,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CAAC;EACpB;EAEA,IAAI,CAACL,eAAe,EAAE;IACpB,oBAAOJ,OAAA,CAAChB,QAAQ;MAAC0B,EAAE,EAAC,SAAS;MAACC,OAAO;IAAA;MAAAL,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CAAC;EAC1C;EAEA,OAAOP,QAAQ;AACjB,CAAC;AAACC,EAAA,CAZIF,cAAc;EAAA,QACqBhB,OAAO;AAAA;AAAA2B,EAAA,GAD1CX,cAAc;AAcpB,MAAMY,GAAG,GAAGA,CAAA,KAAM;EAAAC,GAAA;EAChB,MAAM;IAAEV;EAAgB,CAAC,GAAGnB,OAAO,CAAC,CAAC;EACrC,MAAM,CAAC8B,eAAe,EAAEC,kBAAkB,CAAC,GAAGnC,QAAQ,CAAC,KAAK,CAAC;EAC7D,MAAM,CAACoC,WAAW,EAAEC,cAAc,CAAC,GAAGrC,QAAQ,CAAC,IAAI,CAAC;EACpD,MAAM,CAACsC,SAAS,EAAEC,YAAY,CAAC,GAAGvC,QAAQ,CAACwC,OAAO,CAACC,GAAG,CAACC,QAAQ,KAAK,aAAa,CAAC;EAClF,MAAM,CAACC,WAAW,EAAEC,cAAc,CAAC,GAAG5C,QAAQ,CAAC,EAAE,CAAC;;EAElD;EACAD,SAAS,CAAC,MAAM;IACd,IAAIwB,eAAe,EAAE;MACnB,MAAMsB,SAAS,GAAGhC,aAAa,CAAC,CAAC;MACjCiC,OAAO,CAACC,GAAG,CAAC,mCAAmC,EAAEF,SAAS,CAAC;;MAE3D;MACA,MAAMG,aAAa,GAAGA,CAAA,KAAM;QAC1BF,OAAO,CAACC,GAAG,CAAC,gCAAgC,CAAC;QAC7CZ,kBAAkB,CAAC,IAAI,CAAC;QACxBE,cAAc,CAAC,IAAI,CAAC;MACtB,CAAC;MAED,MAAMY,WAAW,GAAIC,KAAK,IAAK;QAC7BJ,OAAO,CAACI,KAAK,CAAC,0BAA0B,EAAEA,KAAK,CAAC;QAChDf,kBAAkB,CAAC,KAAK,CAAC;QACzBE,cAAc,CAAC,qBAAqBa,KAAK,CAACC,OAAO,IAAI,eAAe,EAAE,CAAC;MACzE,CAAC;MAED,MAAMC,gBAAgB,GAAIC,MAAM,IAAK;QACnCP,OAAO,CAACC,GAAG,CAAC,sBAAsB,EAAEM,MAAM,CAAC;QAC3ClB,kBAAkB,CAAC,KAAK,CAAC;QACzB,IAAIkB,MAAM,KAAK,sBAAsB,EAAE;UACrC;UACAhB,cAAc,CAAC,+DAA+D,CAAC;QACjF;MACF,CAAC;;MAED;MACA,IAAIG,OAAO,CAACC,GAAG,CAACC,QAAQ,KAAK,aAAa,EAAE;QAC1C,MAAMY,UAAU,GAAGvC,MAAM,CAACwC,EAAE;QAC5BxC,MAAM,CAACwC,EAAE,GAAG,UAASC,SAAS,EAAEC,QAAQ,EAAE;UACxC,MAAMC,eAAe,GAAIC,IAAI,IAAK;YAChC,MAAMC,SAAS,GAAG;cAChBC,KAAK,EAAEL,SAAS;cAChBG,IAAI;cACJG,IAAI,EAAE,IAAIC,IAAI,CAAC,CAAC,CAACC,kBAAkB,CAAC;YACtC,CAAC;YAEDlB,OAAO,CAACC,GAAG,CAAC,oBAAoBS,SAAS,aAAa,EAAEG,IAAI,CAAC;;YAE7D;YACAf,cAAc,CAACqB,IAAI,IAAI,CAACL,SAAS,EAAE,GAAGK,IAAI,CAAC,CAACC,KAAK,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC;;YAEzD;YACA,IAAIV,SAAS,KAAK,cAAc,EAAE;cAChCV,OAAO,CAACC,GAAG,CAAC,4BAA4B,CAAAY,IAAI,aAAJA,IAAI,uBAAJA,IAAI,CAAEQ,MAAM,KAAI,WAAW,EAAE,CAAC;cACtE,IAAI,CAACR,IAAI,IAAI,CAACA,IAAI,CAACQ,MAAM,EAAE;gBACzBrB,OAAO,CAACI,KAAK,CAAC,gDAAgD,EAAES,IAAI,CAAC;cACvE;YACF;YAEA,OAAOF,QAAQ,CAACE,IAAI,CAAC;UACvB,CAAC;UAED,OAAOL,UAAU,CAACc,IAAI,CAACrD,MAAM,EAAEyC,SAAS,EAAEE,eAAe,CAAC;QAC5D,CAAC;MACH;MAEA3C,MAAM,CAACwC,EAAE,CAACvC,aAAa,CAACqD,OAAO,EAAErB,aAAa,CAAC;MAC/CjC,MAAM,CAACwC,EAAE,CAACvC,aAAa,CAACsD,aAAa,EAAErB,WAAW,CAAC;MACnDlC,MAAM,CAACwC,EAAE,CAACvC,aAAa,CAACuD,UAAU,EAAEnB,gBAAgB,CAAC;MAErD,OAAO,MAAM;QACXrC,MAAM,CAACyD,GAAG,CAACxD,aAAa,CAACqD,OAAO,EAAErB,aAAa,CAAC;QAChDjC,MAAM,CAACyD,GAAG,CAACxD,aAAa,CAACsD,aAAa,EAAErB,WAAW,CAAC;QACpDlC,MAAM,CAACyD,GAAG,CAACxD,aAAa,CAACuD,UAAU,EAAEnB,gBAAgB,CAAC;QACtDtC,gBAAgB,CAAC,CAAC;MACpB,CAAC;IACH,CAAC,MAAM;MACLA,gBAAgB,CAAC,CAAC;IACpB;EACF,CAAC,EAAE,CAACS,eAAe,CAAC,CAAC;EAErB,oBACEJ,OAAA;IAAKsD,SAAS,EAAC,KAAK;IAAApD,QAAA,GAEjBiB,SAAS,iBACRnB,OAAA;MAAKsD,SAAS,EAAC,oBAAoB;MAACC,KAAK,EAAE;QACzCC,QAAQ,EAAE,OAAO;QACjBC,MAAM,EAAE,CAAC;QACTC,KAAK,EAAE,CAAC;QACRC,eAAe,EAAE,iBAAiB;QAClCC,KAAK,EAAE,OAAO;QACdC,OAAO,EAAE,MAAM;QACfC,MAAM,EAAE,IAAI;QACZC,QAAQ,EAAE,MAAM;QAChBC,QAAQ,EAAE;MACZ,CAAE;MAAA9D,QAAA,gBACAF,OAAA;QAAAE,QAAA,gBACEF,OAAA;UAAAE,QAAA,EAAQ;QAAc;UAAAI,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC,eAC/BT,OAAA;UAAMuD,KAAK,EAAE;YAAEK,KAAK,EAAE7C,eAAe,GAAG,SAAS,GAAG;UAAU,CAAE;UAAAb,QAAA,EAC7Da,eAAe,GAAG,WAAW,GAAG;QAAc;UAAAT,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAC3C,CAAC,EACNQ,WAAW,iBACVjB,OAAA;UAAKuD,KAAK,EAAE;YAAEK,KAAK,EAAE;UAAU,CAAE;UAAA1D,QAAA,EAAEe;QAAW;UAAAX,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAM,CACrD;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACE,CAAC,eACNT,OAAA;QAAAE,QAAA,gBACEF,OAAA;UAAAE,QAAA,EAAQ;QAAc;UAAAI,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC,eAC/BT,OAAA;UACEiE,OAAO,EAAEA,CAAA,KAAM7C,YAAY,CAAC,KAAK,CAAE;UACnCmC,KAAK,EAAE;YAACW,KAAK,EAAE,OAAO;YAAEC,UAAU,EAAE;UAAM,CAAE;UAAAjE,QAAA,EAC7C;QAED;UAAAI,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC,eACTT,OAAA;UAAIuD,KAAK,EAAE;YACTa,SAAS,EAAE,OAAO;YAClBC,SAAS,EAAE,MAAM;YACjBC,MAAM,EAAE,OAAO;YACfT,OAAO,EAAE;UACX,CAAE;UAAA3D,QAAA,EACCsB,WAAW,CAAC+C,GAAG,CAAC,CAACC,GAAG,EAAEC,CAAC;YAAA,IAAAC,SAAA;YAAA,oBACtB1E,OAAA;cAAYuD,KAAK,EAAE;gBACjBoB,YAAY,EAAE,KAAK;gBACnBZ,QAAQ,EAAE,MAAM;gBAChBa,SAAS,EAAE;cACb,CAAE;cAAA1E,QAAA,gBACAF,OAAA;gBAAAE,QAAA,GAAQ,GAAC,EAACsE,GAAG,CAAC7B,IAAI,EAAC,IAAE,EAAC6B,GAAG,CAAC9B,KAAK;cAAA;gBAAApC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAS,CAAC,KACzC,EAAC+D,GAAG,CAAC9B,KAAK,KAAK,cAAc,GACzB,YAAYmC,IAAI,CAACC,SAAS,EAAAJ,SAAA,GAACF,GAAG,CAAChC,IAAI,cAAAkC,SAAA,uBAARA,SAAA,CAAU1B,MAAM,CAAC,EAAE,GAC9C,GAAG,GAAG6B,IAAI,CAACC,SAAS,CAACN,GAAG,CAAChC,IAAI,CAAC,CAACuC,SAAS,CAAC,CAAC,EAAE,GAAG,CAAC,IAAIF,IAAI,CAACC,SAAS,CAACN,GAAG,CAAChC,IAAI,CAAC,CAACwC,MAAM,GAAG,GAAG,GAAG,KAAK,GAAG,EAAE,CAAC;YAAA,GARpGP,CAAC;cAAAnE,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OASN,CAAC;UAAA,CACN;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACA,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACF,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CACN,EAGAL,eAAe,IAAI,CAACW,eAAe,iBAClCf,OAAA,CAACF,KAAK;MACJkC,OAAO,EAAC,iDAAiD;MACzDiD,IAAI,EAAC;IAAS;MAAA3E,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACf,CACF,eAEDT,OAAA,CAAClB,MAAM;MAAAoB,QAAA,gBAELF,OAAA,CAACjB,KAAK;QAACmG,IAAI,EAAC,GAAG;QAACC,OAAO,eAAEnF,OAAA,CAACd,IAAI;UAAAoB,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAE;MAAE;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAE,CAAC,eACrCT,OAAA,CAACjB,KAAK;QAACmG,IAAI,EAAC,SAAS;QAACC,OAAO,eAAEnF,OAAA,CAACX,MAAM;UAAAiB,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAE;MAAE;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAE,CAAC,eAC7CT,OAAA,CAACjB,KAAK;QAACmG,IAAI,EAAC,SAAS;QAACC,OAAO,eAAEnF,OAAA,CAACV,MAAM;UAAAgB,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAE;MAAE;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAE,CAAC,eAC7CT,OAAA,CAACjB,KAAK;QAACmG,IAAI,EAAC,aAAa;QAACC,OAAO,eAAEnF,OAAA,CAACT,KAAK;UAAAe,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAE;MAAE;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAE,CAAC,eAGhDT,OAAA,CAACjB,KAAK;QACJmG,IAAI,EAAC,QAAQ;QACbC,OAAO,eACLnF,OAAA,CAACC,cAAc;UAAAC,QAAA,eACbF,OAAA,CAACb,KAAK;YAAAmB,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAE;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACK;MACjB;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACF,CAAC,eAEFT,OAAA,CAACjB,KAAK;QACJmG,IAAI,EAAC,OAAO;QACZC,OAAO,eACLnF,OAAA,CAACC,cAAc;UAAAC,QAAA,eACbF,OAAA,CAACZ,IAAI;YAAAkB,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAE;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACM;MACjB;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACF,CAAC,eAEFT,OAAA,CAACjB,KAAK;QACJmG,IAAI,EAAC,eAAe;QACpBC,OAAO,eACLnF,OAAA,CAACC,cAAc;UAAAC,QAAA,eACbF,OAAA,CAACZ,IAAI;YAAAkB,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAE;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACM;MACjB;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACF,CAAC,eAEFT,OAAA,CAACjB,KAAK;QACJmG,IAAI,EAAC,wBAAwB;QAC7BC,OAAO,eACLnF,OAAA,CAACR,aAAa;UAAAc,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAE;MACjB;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACF,CAAC,eAGFT,OAAA,CAACjB,KAAK;QAACmG,IAAI,EAAC,GAAG;QAACC,OAAO,eAAEnF,OAAA,CAAChB,QAAQ;UAAC0B,EAAE,EAAC,GAAG;UAACC,OAAO;QAAA;UAAAL,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAE;MAAE;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAE,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAClD,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACN,CAAC;AAEV,CAAC;AAACK,GAAA,CA/LID,GAAG;EAAA,QACqB5B,OAAO;AAAA;AAAAmG,GAAA,GAD/BvE,GAAG;AAiMT,eAAeA,GAAG;AAAC,IAAAD,EAAA,EAAAwE,GAAA;AAAAC,YAAA,CAAAzE,EAAA;AAAAyE,YAAA,CAAAD,GAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}